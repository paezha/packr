<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>packr-vignette â€¢ packr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="packr-vignette">
<meta property="og:description" content="packr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">packr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/packr-vignette.html">packr-vignette</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/paezha/packr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="packr-vignette_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>packr-vignette</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/paezha/packr/blob/master/vignettes/packr-vignette.Rmd"><code>vignettes/packr-vignette.Rmd</code></a></small>
      <div class="hidden name"><code>packr-vignette.Rmd</code></div>

    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      An important element of reproducible research is documenting all steps of the process, including data analysis. This vignette, developed for the <code>packr</code> package (a minimal example of package building), will show how to document data analysis in a self-contained and reproducible document. To this end, the data set <code>energy_and_emissions</code> (included in the <code>packr</code> package) will be used.
    </div>
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This vignette illustrate the use of the dataset and utility functions included in the package <code>packr</code>. I collected this data set initially to use in my course GEOG 3LT3: Transportation Geography. As part of this course, students examine some trends in transportation, including the use of energy and emissions. The objective of the practice is two-fold:</p>
<ol style="list-style-type: decimal">
<li><p>On the side of technology, the students are learning to work with R Notebooks and R. For this reason, all code is documented so that the students can see <em>how</em> things are done.</p></li>
<li><p>On the side of transportation geography, the students are learning to discern trends in transportation.</p></li>
</ol>
</div>
<div id="preliminaries" class="section level2">
<h2 class="hasAnchor">
<a href="#preliminaries" class="anchor"></a>Preliminaries</h2>
<p>Load the packages used in this vignette:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/paezha/packr">packr</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="loading-the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#loading-the-data" class="anchor"></a>Loading the data</h2>
<p>To load the data, use the function <code><a href="https://rdrr.io/r/utils/data.html">data()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"energy_and_emmisions"</span><span class="op">)</span>
<span class="co">#&gt; Warning in data("energy_and_emmisions"): data set 'energy_and_emmisions' not</span>
<span class="co">#&gt; found</span></code></pre></div>
<p>To inspect the dataframe, use the function <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">energy_and_emissions</span><span class="op">)</span>
<span class="co">#&gt;    Country               Area            Population                   PYear    </span>
<span class="co">#&gt;  Length:188         Min.   :      54   Min.   :5.292e+03   JULY 2017 EST.:188  </span>
<span class="co">#&gt;  Class :character   1st Qu.:   25618   1st Qu.:1.955e+06                       </span>
<span class="co">#&gt;  Mode  :character   Median :  113098   Median :8.101e+06                       </span>
<span class="co">#&gt;                     Mean   :  666756   Mean   :3.847e+07                       </span>
<span class="co">#&gt;                     3rd Qu.:  479278   3rd Qu.:2.558e+07                       </span>
<span class="co">#&gt;                     Max.   :16377742   Max.   :1.379e+09                       </span>
<span class="co">#&gt;      GDPPC            bblpd           EYear        CO2_1995      </span>
<span class="co">#&gt;  Min.   :   145   Min.   :     400   2014:148   Min.   :     12  </span>
<span class="co">#&gt;  1st Qu.:  1817   1st Qu.:   13000   2015: 34   1st Qu.:    936  </span>
<span class="co">#&gt;  Median :  5620   Median :   53000   2016:  6   Median :   6661  </span>
<span class="co">#&gt;  Mean   : 13572   Mean   :  490635              Mean   : 121256  </span>
<span class="co">#&gt;  3rd Qu.: 16148   3rd Qu.:  255500              3rd Qu.:  61534  </span>
<span class="co">#&gt;  Max.   :100161   Max.   :19530000              Max.   :5294648  </span>
<span class="co">#&gt;     CO2_2005          CO2_2015           Continent </span>
<span class="co">#&gt;  Min.   :     14   Min.   :      28   Africa  :50  </span>
<span class="co">#&gt;  1st Qu.:   1379   1st Qu.:    2153   Americas:41  </span>
<span class="co">#&gt;  Median :   8434   Median :   10062   Asia    :47  </span>
<span class="co">#&gt;  Mean   : 152549   Mean   :  184978   Europe  :36  </span>
<span class="co">#&gt;  3rd Qu.:  62283   3rd Qu.:   75294   Oceania :12  </span>
<span class="co">#&gt;  Max.   :6174717   Max.   :10641789   NA's    : 2</span></code></pre></div>
<p>The data frame consists of 10 variables. The variable definitions can be consulted in the help file:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">?</span><span class="va">energy_and_emissions</span></code></pre></div>
</div>
<div id="are-population-and-oil-consumption-related" class="section level2">
<h2 class="hasAnchor">
<a href="#are-population-and-oil-consumption-related" class="anchor"></a>Are population and oil consumption related?</h2>
<p>The dataframe includes information on population, GDP per capita, energy consumption, and emissions for world countries. The consumption of energy (in barrels per day) is for the country. We can plot these two variables to see if there is a trend. We create a scatterplot with <code>x = Population</code> and <code>y = bblpd</code>, so that the values of population are mapped to the x-axis, and the values of energy consumption are mapped to the y-axis:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Simple Scatterplot</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">Population</span>,
     <span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">bblpd</span>, 
     main<span class="op">=</span><span class="st">"Scatterplot Example"</span>,
     xlab<span class="op">=</span><span class="st">"Population "</span>, 
     ylab<span class="op">=</span><span class="st">"Barrels of oil per day "</span>, 
     pch<span class="op">=</span><span class="fl">19</span><span class="op">)</span></code></pre></div>
<p><img src="packr-vignette_files/figure-html/energy-by-population-1.png" width="700"></p>
<p>Not suprisingly, there is a strong association between these two variables, since countries with big populations will consume more energy than small countries with small populations. This is not very informative, because the underlying relationship is simply size.</p>
</div>
<div id="what-is-the-per-capita-consumption-of-oil-by-country" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-the-per-capita-consumption-of-oil-by-country" class="anchor"></a>What is the per capita consumption of oil by country?</h2>
<p>Instead of exploring energy consumption by population, we will look at energy consumption per capita. This is a more informative variable, because it normalizes by size, and potentially can tell us something about the <em>intensity</em> and/or <em>efficiency</em> of energy use. However, energy consumption per capita is not one of the variables in the dataset. We need to divide the variable <code>bblpd</code> by <code>Population</code> to add this variable to the dataframe:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">EPC</span> <span class="op">&lt;-</span> <span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">bblpd</span><span class="op">/</span><span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">Population</span></code></pre></div>
<p>Check the descriptive statistics of <code>EPC</code> (energy consumption in barrels per day per person):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">EPC</span><span class="op">)</span>
<span class="co">#&gt;      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. </span>
<span class="co">#&gt; 0.0001308 0.0035039 0.0107354 0.0211934 0.0270790 0.2193948</span></code></pre></div>
<p>The maximum consumption is approximately 0.22 barrels per person per day. Which country is that?</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">energy_and_emissions</span><span class="op">[</span><span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">EPC</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">EPC</span><span class="op">)</span>, <span class="st">"Country"</span><span class="op">]</span>
<span class="co">#&gt; [1] "SINGAPORE"</span></code></pre></div>
<p>The country with the highest per capita oil consumption in the world according the the data is Singapore.</p>
</div>
<div id="are-gdp-per-capita-and-energy-consumption-per-capita-related" class="section level2">
<h2 class="hasAnchor">
<a href="#are-gdp-per-capita-and-energy-consumption-per-capita-related" class="anchor"></a>Are GDP per capita and energy consumption per capita related?</h2>
<p>To answer this question, we can create a scatterplot of the two variables:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">GDPPC</span>, 
     <span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">EPC</span>, 
     main<span class="op">=</span><span class="st">"Scatterplot Example"</span>,
     xlab<span class="op">=</span><span class="st">"GDP per capita "</span>, 
     ylab<span class="op">=</span><span class="st">"Energy consumption per capita (bbpd/population) "</span>, 
     pch<span class="op">=</span><span class="fl">19</span><span class="op">)</span></code></pre></div>
<p><img src="packr-vignette_files/figure-html/scatterplot-gdppc-epc-1.png" width="700"></p>
<p>Calculate the correlation between these two variables:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">GDPPC</span>, <span class="va">energy_and_emissions</span><span class="op">$</span><span class="va">EPC</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.6239777</span></code></pre></div>
<p>There is a moderately strong correlation between these two variables.</p>
<p>What do we learn from this analysis? And how would you extend this analysis?</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
